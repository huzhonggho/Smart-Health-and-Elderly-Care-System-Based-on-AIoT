(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9dea801c"],{"4c3d":function(e,t,r){},9168:function(e,t,r){"use strict";r("4c3d")},"9ed6":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[e._m(0),r("div",{staticClass:"form"},[r("div",{staticClass:"loginValue"},[e._v("登录")]),r("el-form",{attrs:{model:e.loginForm,"label-width":"80px","label-position":"left"}},[r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{model:{value:e.loginForm.tel,callback:function(t){e.$set(e.loginForm,"tel","string"===typeof t?t.trim():t)},expression:"loginForm.tel"}})],1),r("el-form-item",{attrs:{label:"密码"}},[r("el-input",{attrs:{type:"password",password:!0},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"===typeof t?t.trim():t)},expression:"loginForm.password"}})],1)],1),r("div",{staticClass:"goLogin"},[r("el-button",{attrs:{type:"primary",isloading:e.loading},on:{click:e.handleLogin}},[e._v("登录")]),r("br"),r("a",{attrs:{href:"javascript:;"},on:{click:e.reset}},[e._v("重置密码")])],1)],1),r("el-dialog",{attrs:{title:"重置密码",visible:e.centerDialogVisible,width:"500px",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{attrs:{model:e.resetForm,"label-width":"80px","label-position":"left"}},[r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{model:{value:e.resetForm.tel,callback:function(t){e.$set(e.resetForm,"tel","string"===typeof t?t.trim():t)},expression:"resetForm.tel"}})],1),r("el-form-item",{attrs:{label:"姓名"}},[r("el-input",{model:{value:e.resetForm.name,callback:function(t){e.$set(e.resetForm,"name","string"===typeof t?t.trim():t)},expression:"resetForm.name"}})],1),r("el-form-item",{attrs:{label:"部门"}},[r("el-input",{model:{value:e.resetForm.dept,callback:function(t){e.$set(e.resetForm,"dept","string"===typeof t?t.trim():t)},expression:"resetForm.dept"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.concelReset}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.confirmReset}},[e._v("确 定")])],1)],1)],1)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("h1",[s("img",{attrs:{src:r("ceca")}}),e._v("中国烟草")]),s("p",[e._v("电子烟信息管理平台")])])}],n=r("c7eb"),a=r("1da1"),i=r("c24f"),l=r("5f87"),c=r("5c96"),m={name:"Login",data:function(){return{loginForm:{tel:"18993087505",password:"123456"},centerDialogVisible:!1,loading:!1,passwordType:"password",redirect:void 0,resetForm:{tel:"",name:"",dept:""}}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;return Object(a["a"])(Object(n["a"])().mark((function t(){var r;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.loginForm.tel&&""!=e.loginForm.password){t.next=3;break}return Object(c["Message"])({message:"请将用户名或密码填写完整",type:"warning"}),t.abrupt("return");case 3:return e.loading=!0,t.next=6,Object(i["f"])(e.loginForm);case 6:if(r=t.sent,Object(l["c"])(r.data.token),e.loading=!1,200==r.code){t.next=11;break}return t.abrupt("return");case 11:e.$message({message:"登录成功!",type:"success"}),e.$router.push("/");case 13:case"end":return t.stop()}}),t)})))()},reset:function(){this.centerDialogVisible=!0},concelReset:function(){this.resetForm={tel:"",name:"",dept:""},this.centerDialogVisible=!1},confirmReset:function(){var e=this;return Object(a["a"])(Object(n["a"])().mark((function t(){var r;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.resetForm.tel&&""!=e.resetForm.password&&""!=e.resetForm.dept){t.next=3;break}return Object(c["Message"])({message:"请将表单填写完整",type:"warning"}),t.abrupt("return");case 3:return console.log(e.resetForm),t.next=6,Object(i["g"])(e.resetForm);case 6:if(r=t.sent,console.log(r),200==r.code){t.next=11;break}return Object(c["Message"])({message:r.msg,type:"error"}),t.abrupt("return");case 11:Object(c["Message"])({message:r.msg,type:"success"}),e.centerDialogVisible=!1;case 13:case"end":return t.stop()}}),t)})))()}}},p=m,u=(r("9168"),r("2877")),d=Object(u["a"])(p,s,o,!1,null,"2b27624e",null);t["default"]=d.exports},ceca:function(e,t,r){e.exports=r.p+"static/img/logo.58bfe5f7.png"}}]);