(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ed8ace5"],{1593:function(e,t,r){"use strict";var a=r("c7eb"),n=r("1da1"),o=r("2f7b"),s=function(){var e=Object(n["a"])(Object(a["a"])().mark((function e(t,r,n){var o,s,i,l,c;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:if(o=e.sent,s=o.componentInstance,i=r.value,s.height){e.next=7;break}throw new Error("el-$table must set the height. Such as height='100px'");case 7:if(l=i&&i.bottomOffset||30,s){e.next=10;break}return e.abrupt("return");case 10:c=window.innerHeight-t.getBoundingClientRect().top-l,s.layout.setHeight(c),s.doLayout();case 13:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),i={bind:function(e,t,r){e.resizeListener=Object(n["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s(e,t,r);case 2:case"end":return a.stop()}}),n)}))),Object(o["a"])(window.document.body,e.resizeListener),Object(o["a"])(e,e.resizeListener)},inserted:function(e,t,r){return Object(n["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s(e,t,r);case 2:case"end":return a.stop()}}),n)})))()},componentUpdated:function(e,t,r){return Object(n["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s(e,t,r);case 2:case"end":return a.stop()}}),n)})))()},unbind:function(e){Object(o["b"])(e,e.resizeListener)}},l=function(e){e.directive("adaptive",i)};window.Vue&&(window["adaptive"]=i,Vue.use(l)),i.install=l;t["a"]=i},"20c5":function(e,t,r){},5734:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:50},expression:"{ bottomOffset: 50 }"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100px"}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"160px",inline:""}},[t.row.licenseId?r("el-form-item",{attrs:{label:"许可证号"}},[r("span",[e._v(e._s(t.row.licenseId))])]):e._e(),t.row.merchant?r("el-form-item",{attrs:{label:"企业(字号)名称"}},[r("span",[e._v(e._s(t.row.merchant))])]):e._e(),t.row.address?r("el-form-item",{attrs:{label:"经营地址"}},[r("span",[e._v(e._s(t.row.address))])]):e._e(),t.row.region?r("el-form-item",{attrs:{label:"区域"}},[r("span",[e._v(e._s(t.row.region))])]):e._e(),t.row.name?r("el-form-item",{attrs:{label:"负责人(经营者)姓名"}},[r("span",[e._v(e._s(t.row.name))])]):e._e(),t.row.contact?r("el-form-item",{attrs:{label:"联系人"}},[r("span",[e._v(e._s(t.row.contact))])]):e._e(),t.row.tel?r("el-form-item",{attrs:{label:"联系电话"}},[r("span",[e._v(e._s(t.row.tel))])]):e._e(),t.row.id?r("el-form-item",{attrs:{label:"身份证号"}},[r("span",[e._v(e._s(t.row.id))])]):e._e(),t.row.business?r("el-form-item",{attrs:{label:"工商营业执照编号"}},[r("span",[e._v(e._s(t.row.business))])]):e._e(),t.row.permitLimit?r("el-form-item",{attrs:{label:"工商营业执照有效期"}},[r("span",[e._v(e._s(t.row.permitLimit))])]):e._e(),t.row.delivery?r("el-form-item",{attrs:{label:"供货单位"}},[r("span",[e._v(e._s(t.row.delivery))])]):e._e(),t.row.chargeDate?r("el-form-item",{attrs:{label:"制证日期"}},[r("span",[e._v(e._s(t.row.chargeDate))])]):e._e(),t.row.issueDate?r("el-form-item",{attrs:{label:"发证日期"}},[r("span",[e._v(e._s(t.row.issueDate))])]):e._e(),t.row.office?r("el-form-item",{attrs:{label:"发证机关"}},[r("span",[e._v(e._s(t.row.office))])]):e._e(),t.row.permitRange?r("el-form-item",{attrs:{label:"许可范围"}},[r("span",[e._v(e._s(t.row.permitRange))])]):e._e(),t.row.delivery?r("el-form-item",{attrs:{label:"经营场地权属"}},[r("span",[e._v(e._s(t.row.delivery))])]):e._e(),t.row.renderStartDate?r("el-form-item",{attrs:{label:"租赁开始期限"}},[r("span",[e._v(e._s(t.row.renderStartDate))])]):e._e(),t.row.renderEndDate?r("el-form-item",{attrs:{label:"租赁截止期限"}},[r("span",[e._v(e._s(t.row.renderEndDate))])]):e._e(),t.row.storeIdType?r("el-form-item",{attrs:{label:"零售户身份证类型"}},[r("span",[e._v(e._s(t.row.storeIdType))])]):e._e(),t.row.storeId?r("el-form-item",{attrs:{label:"零售户身份证号码"}},[r("span",[e._v(e._s(t.row.storeId))])]):e._e(),t.row.storeIdAddr?r("el-form-item",{attrs:{label:"零售户身份证地址"}},[r("span",[e._v(e._s(t.row.storeIdAddr))])]):e._e(),t.row.storeAddr?r("el-form-item",{attrs:{label:"零售户地址"}},[r("span",[e._v(e._s(t.row.storeAddr))])]):e._e(),t.row.groupType?r("el-form-item",{attrs:{label:"特殊群体类型"}},[r("span",[e._v(e._s(t.row.groupType))])]):e._e(),t.row.saleType?r("el-form-item",{attrs:{label:"零售业态"}},[r("span",[e._v(e._s(t.row.saleType))])]):e._e(),t.row.regionType?r("el-form-item",{attrs:{label:"地区类型"}},[r("span",[e._v(e._s(t.row.regionType))])]):e._e(),t.row.organization?r("el-form-item",{attrs:{label:"企业类型(组织形式)"}},[r("span",[e._v(e._s(t.row.organization))])]):e._e(),t.row.storeArea?r("el-form-item",{attrs:{label:"经营面积"}},[r("span",[e._v(e._s(t.row.storeArea))])]):e._e(),t.row.isChainStore?r("el-form-item",{attrs:{label:"是否连锁"}},[r("span",[e._v(e._s(t.row.isChainStore))])]):e._e(),t.row.isHeadSale?r("el-form-item",{attrs:{label:"是否总店"}},[r("span",[e._v(e._s(t.row.isHeadSale))])]):e._e(),t.row.oldPermitId?r("el-form-item",{attrs:{label:"老许可证号"}},[r("span",[e._v(e._s(t.row.oldPermitId))])]):e._e(),t.row.proxy?r("el-form-item",{attrs:{label:"代理人"}},[r("span",[e._v(e._s(t.row.proxy))])]):e._e(),t.row.proxyType?r("el-form-item",{attrs:{label:"代理人身份证件类型"}},[r("span",[e._v(e._s(t.row.proxyType))])]):e._e(),t.row.proxyId?r("el-form-item",{attrs:{label:"代理人身份证号"}},[r("span",[e._v(e._s(t.row.proxyId))])]):e._e(),t.row.firstDate?r("el-form-item",{attrs:{label:"首次制证日期"}},[r("span",[e._v(e._s(t.row.firstDate))])]):e._e(),t.row.capital?r("el-form-item",{attrs:{label:"注册资本"}},[r("span",[e._v(e._s(t.row.capital))])]):e._e(),t.row.permitStartDate?r("el-form-item",{attrs:{label:"许可证开始期限"}},[r("span",[e._v(e._s(t.row.permitStartDate))])]):e._e(),t.row.permitEndDate?r("el-form-item",{attrs:{label:"许可证截止期限"}},[r("span",[e._v(e._s(t.row.permitEndDate))])]):e._e(),t.row.status?r("el-form-item",{attrs:{label:"当前状态"}},[r("span",[e._v(e._s(t.row.status))])]):e._e(),t.row.logoutDate?r("el-form-item",{attrs:{label:"注销日期"}},[r("span",[e._v(e._s(t.row.logoutDate))])]):e._e(),t.row.dept?r("el-form-item",{attrs:{label:"所属单位"}},[r("span",[e._v(e._s(t.row.dept))])]):e._e(),t.row.pauseDate?r("el-form-item",{attrs:{label:"暂停期限(日)"}},[r("span",[e._v(e._s(t.row.pauseDate))])]):e._e(),t.row.closedStartDate?r("el-form-item",{attrs:{label:"停业日期起"}},[r("span",[e._v(e._s(t.row.closedStartDate))])]):e._e(),t.row.closedEndDate?r("el-form-item",{attrs:{label:"停业日期止"}},[r("span",[e._v(e._s(t.row.closedEndDate))])]):e._e(),t.row.grid?r("el-form-item",{attrs:{label:"所属网格"}},[r("span",[e._v(e._s(t.row.grid))])]):e._e(),t.row.managerOffice?r("el-form-item",{attrs:{label:"专卖管理所"}},[r("span",[e._v(e._s(t.row.managerOffice))])]):e._e(),t.row.manager?r("el-form-item",{attrs:{label:"专管员"}},[r("span",[e._v(e._s(t.row.manager))])]):e._e(),t.row.longitude?r("el-form-item",{attrs:{label:"经度"}},[r("span",[e._v(e._s(t.row.longitude))])]):e._e(),t.row.latitude?r("el-form-item",{attrs:{label:"纬度"}},[r("span",[e._v(e._s(t.row.latitude))])]):e._e(),t.row.brand?r("el-form-item",{attrs:{label:"品牌"}},[r("span",[e._v(e._s(t.row.brand))])]):e._e(),t.row.createDate?r("el-form-item",{attrs:{label:"信息填报时间"}},[r("span",[e._v(e._s(t.row.createDate))])]):e._e(),t.row.source?r("el-form-item",{attrs:{label:"信息来源"}},[r("span",[e._v(e._s(t.row.source))])]):e._e(),t.row.remark?r("el-form-item",{attrs:{label:"备注"}},[r("span",[e._v(e._s(t.row.remark))])]):e._e()],1)]}}])}),r("el-table-column",{attrs:{label:"许可证号",prop:"licenseId"}}),r("el-table-column",{attrs:{label:"企业(字号)名称",prop:"merchant"}}),r("el-table-column",{attrs:{label:"经营地址",prop:"address"}}),r("el-table-column",{attrs:{label:"负责人(经营者)姓名",prop:"name"}}),r("el-table-column",{attrs:{label:"联系电话",prop:"tel"}}),r("el-table-column",{attrs:{label:"工商营业执照有效期",prop:"permitLimit"}}),r("el-table-column",{attrs:{align:"left",fixed:"right",width:"200"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-input",{attrs:{size:"mini",placeholder:"输入企业名搜索"},model:{value:e.search,callback:function(t){e.search="string"===typeof t?t.trim():t},expression:"search"}})]}},{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑")]),r("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定要删除该商户信息吗？"},on:{onConfirm:function(r){return e.deleteitem(t.$index,t.row)}}},[r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除 ")])],1)]}}])})],1),r("div",{staticClass:"paginationTools"},[r("el-pagination",{attrs:{"current-page":e.pageInfo.currentPage,"page-sizes":e.pageInfo.pageSize,"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=r("c7eb"),s=r("1da1"),i=(r("e9c4"),r("1593")),l=r("8492"),c={components:{},directives:{adaptive:i["a"]},data:function(){return{loading:!1,tableData:[],dialogFormVisible:!1,form:{},formLabelWidth:"120px",search:"",pageInfo:{pageSize:[3,4,5,6],totalNum:0,currentPage:1,nowPageSize:3,searchName:"",searchTimer:null}}},watch:{search:function(e){var t=this;this.pageInfo.searchName=e,clearTimeout(this.pageInfo.searchTimer),this.pageInfo.searchTimer=setTimeout((function(){t.getMerchantList()}),500)}},methods:{handleEdit:function(e,t){this.$router.push({name:"uploadMerchant",query:{mid:t.mid}})},deleteitem:function(e,t){var r=this;Object(l["b"])(t).then((function(e){"200"==e.code&&(r.$message({message:"商户信息删除成功",type:"success"}),Object(l["c"])().then((function(e){r.tableData=JSON.parse(JSON.stringify(e.data))})))}))},getMerchantList:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r=new FormData,""!=e.pageInfo.searchName&&r.append("merchant",e.pageInfo.searchName),t.next=5,Object(l["d"])(e.pageInfo.currentPage,e.pageInfo.nowPageSize,r);case 5:if(a=t.sent,200==a.code){t.next=8;break}return t.abrupt("return");case 8:e.tableData=a.data.list,e.pageInfo.totalNum=a.data.total,e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.pageInfo.nowPageSize=e,this.getMerchantList()},handleCurrentChange:function(e){this.pageInfo.currentPage=e,this.getMerchantList()}},created:function(){this.getMerchantList()}},m=c,u=(r("af05"),r("c32e"),r("2877")),p=Object(u["a"])(m,a,n,!1,null,"185e6b17",null);t["default"]=p.exports},"7a84":function(e,t,r){},8492:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return i})),r.d(t,"f",(function(){return l})),r.d(t,"a",(function(){return c})),r.d(t,"g",(function(){return m})),r.d(t,"b",(function(){return u}));r("99af");var a=r("b775");function n(){return Object(a["a"])({url:"/merchant/getAllMerchantsForAdmin",method:"get"})}function o(e,t,r){return Object(a["a"])({url:"/merchant/getAllMerchantsByPageForAdmin/".concat(e,"/").concat(t),method:"post",headers:{"Content-Type":"multipart/form-data"},data:r})}function s(e){return Object(a["a"])({url:"/merchant/getMerchantForAdmin/".concat(e),method:"get"})}function i(e){return Object(a["a"])({url:"/merchant/imageUpload",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function l(e){return Object(a["a"])({url:"/merchant/saveImg",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function c(e){return Object(a["a"])({url:"/merchant/add",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/merchant/updateMerchant",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/merchant/delMerchant",method:"delete",data:e})}},af05:function(e,t,r){"use strict";r("7a84")},c32e:function(e,t,r){"use strict";r("20c5")},e9c4:function(e,t,r){var a=r("23e7"),n=r("d066"),o=r("d039"),s=n("JSON","stringify"),i=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,m=function(e,t,r){var a=r.charAt(t-1),n=r.charAt(t+1);return l.test(e)&&!c.test(n)||c.test(e)&&!l.test(a)?"\\u"+e.charCodeAt(0).toString(16):e},u=o((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&a({target:"JSON",stat:!0,forced:u},{stringify:function(e,t,r){var a=s.apply(null,arguments);return"string"==typeof a?a.replace(i,m):a}})}}]);