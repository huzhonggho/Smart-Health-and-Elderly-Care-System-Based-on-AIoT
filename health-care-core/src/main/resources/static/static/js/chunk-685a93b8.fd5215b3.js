(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-685a93b8"],{"070d":function(e,t,a){},"14bb":function(e,t,a){"use strict";a("93ae")},1593:function(e,t,a){"use strict";var r=a("c7eb"),n=a("1da1"),i=a("2f7b"),s=function(){var e=Object(n["a"])(Object(r["a"])().mark((function e(t,a,n){var i,s,o,l,u;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:if(i=e.sent,s=i.componentInstance,o=a.value,s.height){e.next=7;break}throw new Error("el-$table must set the height. Such as height='100px'");case 7:if(l=o&&o.bottomOffset||30,s){e.next=10;break}return e.abrupt("return");case 10:u=window.innerHeight-t.getBoundingClientRect().top-l,s.layout.setHeight(u),s.doLayout();case 13:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),o={bind:function(e,t,a){e.resizeListener=Object(n["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s(e,t,a);case 2:case"end":return r.stop()}}),n)}))),Object(i["a"])(window.document.body,e.resizeListener),Object(i["a"])(e,e.resizeListener)},inserted:function(e,t,a){return Object(n["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s(e,t,a);case 2:case"end":return r.stop()}}),n)})))()},componentUpdated:function(e,t,a){return Object(n["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s(e,t,a);case 2:case"end":return r.stop()}}),n)})))()},unbind:function(e){Object(i["b"])(e,e.resizeListener)}},l=function(e){e.directive("adaptive",o)};window.Vue&&(window["adaptive"]=o,Vue.use(l)),o.install=l;t["a"]=o},"562a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:50},expression:"{ bottomOffset: 50 }"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100px"}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),a("el-table-column",{attrs:{label:"部门",prop:"dept"}}),a("el-table-column",{attrs:{label:"手机号",prop:"tel"}}),a("el-table-column",{attrs:{label:"状态",prop:"status"}}),a("el-table-column",{attrs:{label:"权限",prop:"authority"}}),a("el-table-column",{attrs:{label:"性别",prop:"gender"}}),a("el-table-column",{attrs:{align:"left",fixed:"right",width:"200"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"输入姓名搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑")]),a("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定要删除该用户吗？"},on:{onConfirm:function(a){return e.deleteitem(t.$index,t.row)}}},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除 ")])],1)]}}])})],1),a("div",{staticClass:"paginationTools"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.currentPage,"page-sizes":e.pageInfo.pageSize,"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"修改监管员信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"UserEditForm",attrs:{model:e.formData,rules:e.rules,"label-position":"left","label-width":"80px",size:"medium"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{type:"text",clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"部门",prop:"dept"}},[a("el-input",{attrs:{type:"text",clearable:""},model:{value:e.formData.dept,callback:function(t){e.$set(e.formData,"dept",t)},expression:"formData.dept"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[a("el-input",{attrs:{type:"text",clearable:""},model:{value:e.formData.tel,callback:function(t){e.$set(e.formData,"tel",t)},expression:"formData.tel"}})],1)],1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticClass:"full-width-input",attrs:{clearable:""},model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},e._l(e.statusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",{attrs:{label:"权限",prop:"authority"}},[a("el-select",{staticClass:"full-width-input",attrs:{clearable:""},model:{value:e.formData.authority,callback:function(t){e.$set(e.formData,"authority",t)},expression:"formData.authority"}},e._l(e.authorityOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{staticClass:"full-width-input",attrs:{clearable:""},model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},e._l(e.genderOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" 取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.comfirmEdit}},[e._v(" 确 定")])],1)],1)],1)},n=[],i=a("c7eb"),s=a("1da1"),o=(a("e9c4"),a("1593")),l=a("c24f"),u={name:"user",directives:{adaptive:o["a"]},components:{},data:function(){return{tableData:[],search:"",loading:!0,dialogFormVisible:!1,form:{},formLabelWidth:"120px",visible:!1,formData:{},submitForm:{},rules:{name:[{required:!0,message:"字段值不可为空"}],dept:[{required:!0,message:"字段值不可为空"}],authority:[{required:!0,message:"字段值不可为空"}],status:[{required:!0,message:"字段值不可为空"}],gender:[{required:!0,message:"字段值不可为空"}],tel:[{pattern:/^[1][3-9][0-9]{9}$/,trigger:["blur","change"],message:"请输入正确的手机号"},{required:!0,message:"字段值不可为空"}]},statusOptions:[{label:"启用",value:"启用"},{label:"不启用",value:"不启用"}],authorityOptions:[{label:"管理员",value:"管理员"},{label:"监管员",value:"监管员"}],genderOptions:[{label:"男",value:"男"},{label:"女",value:"女"}],pageInfo:{pageSize:[10],totalNum:0,currentPage:1,nowPageSize:10,searchName:"",searchTimer:null}}},watch:{search:function(e){var t=this;this.pageInfo.searchName=e,clearTimeout(this.pageInfo.searchTimer),this.pageInfo.searchTimer=setTimeout((function(){t.getUserList()}),500)}},methods:{transformData:function(){this.submitForm=JSON.parse(JSON.stringify(this.formData)),"管理员"==this.submitForm.authority?this.submitForm.authority=1:this.submitForm.authority=0,"男"==this.submitForm.gender?this.submitForm.gender=0:this.submitForm.gender=1},resetForm:function(){this.$refs["UserEditForm"].resetFields()},comfirmEdit:function(){var e=this;this.$refs["UserEditForm"].validate((function(t){t&&(e.transformData(),Object(l["c"])(e.submitForm).then((function(t){"200"==t.code&&(e.getUserList(),e.$message({message:"修改成功",type:"success"}),e.dialogFormVisible=!1)})))}))},handleEdit:function(e,t){var a=JSON.stringify(t);this.formData=JSON.parse(a),this.dialogFormVisible=!0},deleteitem:function(e,t){var a=this,r=JSON.parse(JSON.stringify(t));"管理员"==r.authority?r.authority=1:r.authority=0,"男"==r.gender?r.gender=0:r.gender=1,Object(l["b"])(r).then((function(e){"200"==e.code&&(a.$message({message:"删除成功",type:"success"}),a.getUserList())}))},getUserList:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=new FormData,""!=e.pageInfo.searchName&&a.append("name",e.pageInfo.searchName),t.next=5,Object(l["e"])(e.pageInfo.currentPage,e.pageInfo.nowPageSize,a);case 5:if(r=t.sent,200==r.code){t.next=8;break}return t.abrupt("return");case 8:for(e.tableData=r.data.list,n=0;n<e.tableData.length;n++)0==e.tableData[n].gender||"0"==e.tableData[n].gender?e.tableData[n].gender="男":e.tableData[n].gender="女",1==e.tableData[n].authority||"1"==e.tableData[n].authority?e.tableData[n].authority="管理员":0!=e.tableData[n].authority&&"0"!=e.tableData[n].authority||(e.tableData[n].authority="监管员");e.pageInfo.totalNum=r.data.total,e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.pageInfo.nowPageSize=e,this.getUserList()},handleCurrentChange:function(e){this.pageInfo.currentPage=e,this.getUserList()}},created:function(){this.getUserList()}},c=u,d=(a("14bb"),a("d3c1"),a("2877")),f=Object(d["a"])(c,r,n,!1,null,"48a90950",null);t["default"]=f.exports},"93ae":function(e,t,a){},d3c1:function(e,t,a){"use strict";a("070d")},e9c4:function(e,t,a){var r=a("23e7"),n=a("d066"),i=a("d039"),s=n("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,c=function(e,t,a){var r=a.charAt(t-1),n=a.charAt(t+1);return l.test(e)&&!u.test(n)||u.test(e)&&!l.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},d=i((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&r({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,a){var r=s.apply(null,arguments);return"string"==typeof r?r.replace(o,c):r}})}}]);